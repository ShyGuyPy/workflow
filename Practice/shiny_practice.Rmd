---
title: "Shiny_practice"
author: "Luke Vawter"
date: "September 12, 2018"
output: html_document
---

a space for practicing basic shiny app elements, features and ...well.. practices:

isolate(input$value...) makes input non-reactive

observeEvent

test of Render UI
use explained in tutorial https://www.youtube.com/watch?v=JUop-YfRAuw:
```{r}
library(shiny)
library(dplyr)
#value <- "color:black"
ui <- fluidPage(
  title = "test",
  selectInput(inputId = "thing", label = "choose a fruit", choices = c("apples", "oranges", "banannas") ),
  htmlOutput("first")
  
)

server <- function(input, output)({
 
  value <- eventReactive(input$thing, { case_when(
    input$thing == "apples" ~ "color: red",
    input$thing == "oranges" ~ "color: orange",
    input$thing == "banannas" ~ "color: yellow"
    
  )
  })
  #output$first <- renderText({value()})
  output$first <- renderUI({
    withTags(
      div(style= value(),
          p("words")))

  })
  
})




shinyApp(ui, server)
```

pulled from stack-overflow:
```{r}
library(shiny)

ui <- fluidPage(
  selectInput("num", "Choose a number", 1:10),
  conditionalPanel(
    condition = "output.square",
    "That's a perfect square!"
  )
)

server <- function(input, output, session) {
  output$square <- reactive({
    sqrt(as.numeric(input$num)) %% 1 == 0
  })
  outputOptions(output, 'square', suspendWhenHidden = FALSE)
}

shinyApp(ui = ui, server = server)

```

```{r}
library(shiny)
library(shinydashboard)

ui <- dashboardPage(
  dashboardHeader(title = "break me"
                  ),
  dashboardSidebar(dateInput("date", "enter a date")
                   ),
  dashboardBody(htmlOutput(outputId = "boxes")
  )
)
  
server <- function(input, output, session) {
 
output$boxes  <- renderUI({
  div(class="topbox_main",
    div(class="topbox1",
        div(class="square",style="precip_value",#"background-color:yellow"
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("precipitation deficit")
                    )))), 
        div(class="square", style="background-color:red",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("ground water wells")
                    )))),
        div(class="square", style="background-color:green",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("reservoir flow")
                    )))),
        div(class="square", style="background-color:orange",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("streamflow")
                    ))))
    ), #end of topbox1
    div(class="topbox2", 
        div(class="square", style="background-color:yellow",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("precipitation deficit")
                    )))),
        div(class="square", style="background-color:orange",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("ground water wells")
                    )))),
        div(class="square", style="background-color:red",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("reservoir flow")
                    )))),
        div(class="square", style="background-color:green",
            div(class="content",
                div(class="table",
                    div(class="table-cell",
                        p("streamflow")
                    ))))
    ) #end of topbox2
  ) #end of topbox-main
})
}


shinyApp(ui = ui, server = server)

```

```{r}
library(shiny)
library(shinydashboard)

ui <- dashboardPage(
  dashboardHeader(title = "break me"
                  ),
  dashboardSidebar(dateInput(inputId = "date", "enter a date")
                   ),
  dashboardBody(htmlOutput(outputId = "boxes")
  )
)
  
server <- function(input, output, session) {

path_p <- "C:\\Users\\icprbadmin\\Documents\\R\\2018drex\\input\\ts\\state\\i_a1b\\va_shenandoah_p.csv"
my_data_p = read.csv(path_p)  

p_data_percent <- eventReactive(input$date, {
  input$date
  # for(i in my_data_p$date){
  # 
  #   case_when(
  #   as.character(i) == date_func(as.character(input$date))~ my_data_p$p_percent_normal[which(my_data_p$date == i)])
  
  #}
  
#my_data_p$p_percent_normal[input$data_index]
})
  
output$boxes  <- renderUI({
div(as.character(p_data_percent()))
})
}


shinyApp(ui = ui, server = server)

```

```{r}
library(shiny)
library(shinydashboard)

ui <- fluidPage(
  dateRangeInput("plot_range",
               "Specify plot range",
#               start = "1929-10-01",
#               end = "1930-12-31",
               start = "1998-10-10",
               end = "1999-10-10",
               format = "yyyy-mm-dd",
               width = NULL),
  htmlOutput(outputId = "boxes")
)

server <- function(input, output, session) {
output$boxes  <- renderUI({
div(paste0(" index1: ",input$plot_range[1]," index 2: ",input$plot_range[2]))
})
}

shinyApp(ui = ui, server = server)

```

```{r}
library(shiny)

shinyServer(function(input, output, session){
  counter <- reactiveValues(countervalue=0)
})
```

